"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[634],{28453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>d});var t=s(96540);const r={},i=t.createContext(r);function l(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),t.createElement(i.Provider,{value:e},n.children)}},48019:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"rfc-029","title":"Load Testing Framework Evaluation and Strategy","description":"Summary","source":"@site/../docs-cms/rfcs/rfc-029-load-testing-framework-evaluation.md","sourceDirName":".","slug":"/rfc-029","permalink":"/prism-data-layer/rfc/rfc-029","draft":false,"unlisted":false,"editUrl":"https://github.com/jrepp/prism-data-layer/tree/main/docs-cms/../docs-cms/rfcs/rfc-029-load-testing-framework-evaluation.md","tags":[{"inline":true,"label":"load-testing","permalink":"/prism-data-layer/rfc/tags/load-testing"},{"inline":true,"label":"performance","permalink":"/prism-data-layer/rfc/tags/performance"},{"inline":true,"label":"tooling","permalink":"/prism-data-layer/rfc/tags/tooling"},{"inline":true,"label":"evaluation","permalink":"/prism-data-layer/rfc/tags/evaluation"}],"version":"current","frontMatter":{"author":"Platform Team","created":"2025-10-11T00:00:00.000Z","doc_uuid":"50cf9cc5-7e1f-44ba-a8b0-e52c01c54957","id":"rfc-029","project_id":"prism-data-layer","status":"Proposed","tags":["load-testing","performance","tooling","evaluation"],"title":"Load Testing Framework Evaluation and Strategy","updated":"2025-10-12T00:00:00.000Z"},"sidebar":"rfcSidebar","previous":{"title":"prism-probe - CLI Client for Testing and Debugging \u2022 RFC-028","permalink":"/prism-data-layer/rfc/rfc-028"}}');var r=s(74848),i=s(28453);const l={author:"Platform Team",created:new Date("2025-10-11T00:00:00.000Z"),doc_uuid:"50cf9cc5-7e1f-44ba-a8b0-e52c01c54957",id:"rfc-029",project_id:"prism-data-layer",status:"Proposed",tags:["load-testing","performance","tooling","evaluation"],title:"Load Testing Framework Evaluation and Strategy",updated:new Date("2025-10-12T00:00:00.000Z")},d="RFC-029: Load Testing Framework Evaluation and Strategy",c={},o=[{value:"Summary",id:"summary",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Problem",id:"problem",level:3},{value:"Goals",id:"goals",level:3},{value:"Current State: Custom Load Testing Tool",id:"current-state-custom-load-testing-tool",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Implementation Details",id:"implementation-details",level:3},{value:"Performance Validation (MEMO-010)",id:"performance-validation-memo-010",level:3},{value:"Strengths",id:"strengths",level:3},{value:"Weaknesses",id:"weaknesses",level:3},{value:"Framework Evaluation",id:"framework-evaluation",level:2},{value:"Selection Criteria",id:"selection-criteria",level:3},{value:"Framework 1: ghz (gRPC Load Testing)",id:"framework-1-ghz-grpc-load-testing",level:3},{value:"Architecture",id:"architecture-1",level:4},{value:"Features",id:"features",level:4},{value:"Example Usage",id:"example-usage",level:4},{value:"Pros",id:"pros",level:4},{value:"Cons",id:"cons",level:4},{value:"Score",id:"score",level:4},{value:"Framework 2: k6",id:"framework-2-k6",level:3},{value:"Architecture",id:"architecture-2",level:4},{value:"Features",id:"features-1",level:4},{value:"Example Usage",id:"example-usage-1",level:4},{value:"Pros",id:"pros-1",level:4},{value:"Cons",id:"cons-1",level:4},{value:"Score",id:"score-1",level:4},{value:"Framework 3: vegeta (HTTP Library)",id:"framework-3-vegeta-http-library",level:3},{value:"Features",id:"features-2",level:4},{value:"Pros",id:"pros-2",level:4},{value:"Cons",id:"cons-2",level:4},{value:"Score",id:"score-2",level:4},{value:"Framework 4: fortio (Istio&#39;s Tool)",id:"framework-4-fortio-istios-tool",level:3},{value:"Features",id:"features-3",level:4},{value:"Example Usage",id:"example-usage-2",level:4},{value:"Pros",id:"pros-3",level:4},{value:"Cons",id:"cons-3",level:4},{value:"Score",id:"score-3",level:4},{value:"Framework 5: hey / bombardier (HTTP Tools)",id:"framework-5-hey--bombardier-http-tools",level:3},{value:"Framework Comparison Matrix",id:"framework-comparison-matrix",level:2},{value:"Testing Strategy: Two-Tier Approach",id:"testing-strategy-two-tier-approach",level:2},{value:"Insight: Two Types of Load Testing",id:"insight-two-types-of-load-testing",level:3},{value:"1. Pattern-Level Load Testing (Unit Load Testing)",id:"1-pattern-level-load-testing-unit-load-testing",level:4},{value:"2. Integration-Level Load Testing (End-to-End)",id:"2-integration-level-load-testing-end-to-end",level:4},{value:"Recommended Architecture",id:"recommended-architecture",level:3},{value:"Recommended Strategy",id:"recommended-strategy",level:2},{value:"Phase 1: POC 1 (Current State)",id:"phase-1-poc-1-current-state",level:3},{value:"Phase 2: POC 2+ (Add Integration Testing)",id:"phase-2-poc-2-add-integration-testing",level:3},{value:"Phase 3: Future (Optional Enhancements)",id:"phase-3-future-optional-enhancements",level:3},{value:"Implementation Plan",id:"implementation-plan",level:2},{value:"Week 1: Enhance Custom Tool",id:"week-1-enhance-custom-tool",level:3},{value:"Week 2: Add ghz Integration Testing",id:"week-2-add-ghz-integration-testing",level:3},{value:"Decision Matrix",id:"decision-matrix",level:2},{value:"Benefits",id:"benefits",level:2},{value:"Two-Tier Strategy",id:"two-tier-strategy",level:3},{value:"Cost-Benefit Analysis",id:"cost-benefit-analysis",level:3},{value:"Risks and Mitigations",id:"risks-and-mitigations",level:2},{value:"Risk 1: Maintaining Two Tools",id:"risk-1-maintaining-two-tools",level:3},{value:"Risk 2: Results Divergence",id:"risk-2-results-divergence",level:3},{value:"Risk 3: Tool Proliferation",id:"risk-3-tool-proliferation",level:3},{value:"Alternatives Considered",id:"alternatives-considered",level:2},{value:"Alternative 1: ghz Only",id:"alternative-1-ghz-only",level:3},{value:"Alternative 2: k6 Only",id:"alternative-2-k6-only",level:3},{value:"Alternative 3: Custom Only + vegeta Library",id:"alternative-3-custom-only--vegeta-library",level:3},{value:"Success Metrics",id:"success-metrics",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Immediate (POC 1)",id:"immediate-poc-1",level:3},{value:"Short-Term (POC 2)",id:"short-term-poc-2",level:3},{value:"Long-Term (POC 5+)",id:"long-term-poc-5",level:3},{value:"Related Documents",id:"related-documents",level:2},{value:"Conclusion",id:"conclusion",level:2},{value:"Revision History",id:"revision-history",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"rfc-029-load-testing-framework-evaluation-and-strategy",children:"RFC-029: Load Testing Framework Evaluation and Strategy"})}),"\n",(0,r.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(e.p,{children:["Evaluation of Go load testing frameworks for Prism data access gateway. Analyzes custom tool (prism-loadtest) vs best-of-breed frameworks (ghz, k6, vegeta, fortio) and proposes a ",(0,r.jsx)(e.strong,{children:"two-tier testing strategy"}),": custom tool for pattern-level load testing + ghz for end-to-end gRPC integration testing."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Recommendation"}),": Keep custom ",(0,r.jsx)(e.code,{children:"prism-loadtest"})," tool and add ",(0,r.jsx)(e.code,{children:"ghz"})," for gRPC integration testing."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Key Finding"}),": Prism needs ",(0,r.jsx)(e.strong,{children:"two types"})," of load testing:"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Pattern-level"}),": Tests pattern logic directly (current custom tool)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Integration-level"}),": Tests through Rust proxy via gRPC (needs ghz)"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"motivation",children:"Motivation"}),"\n",(0,r.jsx)(e.h3,{id:"problem",children:"Problem"}),"\n",(0,r.jsxs)(e.p,{children:["Current load testing tool (",(0,r.jsx)(e.code,{children:"cmd/prism-loadtest"}),") is custom-built:"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u2705 Production-ready (validated by MEMO-010)"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Direct Pattern SDK integration"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Custom metrics collection"}),"\n",(0,r.jsx)(e.li,{children:"\u274c Tests patterns directly (not through proxy)"}),"\n",(0,r.jsx)(e.li,{children:"\u274c No gRPC integration testing"}),"\n",(0,r.jsx)(e.li,{children:"\u274c Maintenance burden (custom code)"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Question"}),": Should we adopt a best-of-breed framework or keep the custom tool?"]}),"\n",(0,r.jsx)(e.h3,{id:"goals",children:"Goals"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Evaluate"})," best-of-breed Go load testing frameworks"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Compare"})," frameworks against Prism requirements"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Recommend"})," load testing strategy for POC 1+"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Define"})," testing scope (pattern-level vs integration-level)"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"current-state-custom-load-testing-tool",children:"Current State: Custom Load Testing Tool"}),"\n",(0,r.jsx)(e.h3,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  prism-loadtest CLI (Custom Tool)                           \u2502\n\u2502                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502   register   \u2502  \u2502  enumerate   \u2502  \u2502   multicast   \u2502    \u2502\n\u2502  \u2502   command    \u2502  \u2502   command    \u2502  \u2502    command    \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502         \u2502                  \u2502                   \u2502            \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502                            \u2502                                \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502              \u2502  Coordinator (direct call) \u2502                \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502                            \u2502                                \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502         \u2502                                    \u2502              \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510                       \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502    \u2502  Redis   \u2502                       \u2502    NATS    \u2502      \u2502\n\u2502    \u2502 Backend  \u2502                       \u2502  Backend   \u2502      \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Tests ",(0,r.jsx)(e.strong,{children:"pattern logic directly"})," (bypasses proxy)"]}),"\n",(0,r.jsx)(e.li,{children:"Direct Coordinator instantiation"}),"\n",(0,r.jsx)(e.li,{children:"No gRPC overhead"}),"\n",(0,r.jsx)(e.li,{children:"Isolated backend testing (Redis + NATS)"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"implementation-details",children:"Implementation Details"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"Implementation"}),(0,r.jsx)(e.th,{children:"LOC"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"CLI Framework"}),(0,r.jsx)(e.td,{children:"Cobra"}),(0,r.jsx)(e.td,{children:"~100"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Rate Limiting"}),(0,r.jsx)(e.td,{children:"golang.org/x/time/rate"}),(0,r.jsx)(e.td,{children:"~50"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Metrics Collection"}),(0,r.jsx)(e.td,{children:"Custom histogram"}),(0,r.jsx)(e.td,{children:"~150"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Progress Reporting"}),(0,r.jsx)(e.td,{children:"Custom ticker"}),(0,r.jsx)(e.td,{children:"~50"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Register Command"}),(0,r.jsx)(e.td,{children:"Direct Coordinator call"}),(0,r.jsx)(e.td,{children:"~100"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Enumerate Command"}),(0,r.jsx)(e.td,{children:"Direct Coordinator call"}),(0,r.jsx)(e.td,{children:"~80"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Multicast Command"}),(0,r.jsx)(e.td,{children:"Direct Coordinator call"}),(0,r.jsx)(e.td,{children:"~120"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Mixed Workload"}),(0,r.jsx)(e.td,{children:"Weighted random"}),(0,r.jsx)(e.td,{children:"~150"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Total"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"~800 LOC"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"~800"})})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"performance-validation-memo-010",children:"Performance Validation (MEMO-010)"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Metric"}),(0,r.jsx)(e.th,{children:"Target"}),(0,r.jsx)(e.th,{children:"Actual"}),(0,r.jsx)(e.th,{children:"Status"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Rate Limiting"}),(0,r.jsx)(e.td,{children:"100 req/sec"}),(0,r.jsx)(e.td,{children:"101.81 req/sec"}),(0,r.jsx)(e.td,{children:"\u2705 1.81% error"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Workload Mix"}),(0,r.jsx)(e.td,{children:"50/30/20"}),(0,r.jsx)(e.td,{children:"50.1/30.0/20.0"}),(0,r.jsx)(e.td,{children:"\u2705 Precise"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Thread Safety"}),(0,r.jsx)(e.td,{children:"No data races"}),(0,r.jsx)(e.td,{children:"Fixed with mutex"}),(0,r.jsx)(e.td,{children:"\u2705 Safe"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Register P95"}),(0,r.jsx)(e.td,{children:"<10ms"}),(0,r.jsx)(e.td,{children:"5ms"}),(0,r.jsx)(e.td,{children:"\u2705 2x faster"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Enumerate P95"}),(0,r.jsx)(e.td,{children:"<20ms"}),(0,r.jsx)(e.td,{children:"500\xb5s"}),(0,r.jsx)(e.td,{children:"\u2705 40x faster"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Multicast P95"}),(0,r.jsx)(e.td,{children:"<100ms"}),(0,r.jsx)(e.td,{children:"100ms"}),(0,r.jsx)(e.td,{children:"\u2705 On target"})]})]})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Verdict"}),": Custom tool is ",(0,r.jsx)(e.strong,{children:"production-ready"})," \u2705"]}),"\n",(0,r.jsx)(e.h3,{id:"strengths",children:"Strengths"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Direct Integration"}),": Tests pattern logic without gRPC overhead"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Custom Metrics"}),": Tailored to Prism patterns (multicast delivery stats)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Proven"}),": Validated by POC 4 (MEMO-010)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Fast Iteration"}),": No external dependencies"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Workload Flexibility"}),": Mixed workloads with precise distribution"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"weaknesses",children:"Weaknesses"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"No gRPC Testing"}),": Doesn't test through Rust proxy"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Maintenance Burden"}),": ~800 LOC to maintain"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Not Best-of-Breed"}),": Missing features like:\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Advanced load profiles (ramp-up, spike, soak)"}),"\n",(0,r.jsx)(e.li,{children:"Distributed load generation (multiple clients)"}),"\n",(0,r.jsx)(e.li,{children:"Real-time dashboards"}),"\n",(0,r.jsx)(e.li,{children:"Standard output formats (JSON, CSV)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"framework-evaluation",children:"Framework Evaluation"}),"\n",(0,r.jsx)(e.h3,{id:"selection-criteria",children:"Selection Criteria"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Criterion"}),(0,r.jsx)(e.th,{children:"Weight"}),(0,r.jsx)(e.th,{children:"Description"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"gRPC Support"})}),(0,r.jsx)(e.td,{children:"High"}),(0,r.jsx)(e.td,{children:"Critical for Prism architecture"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Custom Metrics"})}),(0,r.jsx)(e.td,{children:"High"}),(0,r.jsx)(e.td,{children:"Need pattern-specific metrics (multicast delivery)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Learning Curve"})}),(0,r.jsx)(e.td,{children:"Medium"}),(0,r.jsx)(e.td,{children:"Team productivity"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Maintenance"})}),(0,r.jsx)(e.td,{children:"Medium"}),(0,r.jsx)(e.td,{children:"Long-term support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Integration"})}),(0,r.jsx)(e.td,{children:"High"}),(0,r.jsx)(e.td,{children:"Works with existing patterns"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Performance"})}),(0,r.jsx)(e.td,{children:"Medium"}),(0,r.jsx)(e.td,{children:"Tool shouldn't bottleneck tests"})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"framework-1-ghz-grpc-load-testing",children:"Framework 1: ghz (gRPC Load Testing)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"URL"}),": ",(0,r.jsx)(e.a,{href:"https://github.com/bojand/ghz",children:"https://github.com/bojand/ghz"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": gRPC benchmarking and load testing tool written in Go."]}),"\n",(0,r.jsx)(e.h4,{id:"architecture-1",children:"Architecture"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  ghz CLI                                                 \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 Proto File \u2502  \u2502  Rate Config \u2502  \u2502 Load Profile \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502        \u2502                 \u2502                  \u2502           \u2502\n\u2502        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                          \u2502                              \u2502\n\u2502                          \u25bc                              \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502              \u2502  gRPC Client (tonic) \u2502                 \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                          \u2502                              \u2502\n\u2502                          \u25bc                              \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502              \u2502   Rust Proxy :8980   \u2502                 \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                          \u2502                              \u2502\n\u2502                          \u25bc                              \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502              \u2502  Pattern (MemStore/   \u2502                 \u2502\n\u2502              \u2502  Redis/Kafka)         \u2502                 \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(e.h4,{id:"features",children:"Features"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"Support"}),(0,r.jsx)(e.th,{children:"Notes"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"\u2705 Native"}),(0,r.jsx)(e.td,{children:"Built specifically for gRPC"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Protocol Buffers"}),(0,r.jsx)(e.td,{children:"\u2705 Required"}),(0,r.jsx)(e.td,{children:"Requires .proto files"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Rate Limiting"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Constant, step, line profiles"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Concurrency"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Configurable workers"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Output Formats"}),(0,r.jsx)(e.td,{children:"\u2705 JSON, CSV, HTML"}),(0,r.jsx)(e.td,{children:"Standard formats"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Real-time Stats"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Progress bar"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"\u274c Limited"}),(0,r.jsx)(e.td,{children:"Standard gRPC metrics only"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Direct Integration"}),(0,r.jsx)(e.td,{children:"\u274c No"}),(0,r.jsx)(e.td,{children:"Must go through gRPC"})]})]})]}),"\n",(0,r.jsx)(e.h4,{id:"example-usage",children:"Example Usage"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# Basic gRPC load test\nghz --proto ./proto/interfaces/keyvalue_basic.proto \\\n    --call prism.KeyValueBasicInterface.Set \\\n    --insecure \\\n    --total 6000 \\\n    --concurrency 100 \\\n    --rps 100 \\\n    --duration 60s \\\n    --data \'{"namespace":"default","key":"test-key","value":"dGVzdC12YWx1ZQ=="}\' \\\n    localhost:8980\n\n# Output:\n# Summary:\n#   Count:        6000\n#   Total:        60.00 s\n#   Slowest:      15.23 ms\n#   Fastest:      0.45 ms\n#   Average:      2.31 ms\n#   Requests/sec: 100.00\n#\n# Response time histogram:\n#   0.450 [1]      |\n#   1.928 [2341]   |\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\n#   3.406 [2892]   |\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\u220e\n#   4.884 [582]    |\u220e\u220e\u220e\u220e\u220e\u220e\u220e\n#   6.362 [145]    |\u220e\u220e\n#   7.840 [32]     |\n#   9.318 [5]      |\n#   10.796 [1]     |\n#   12.274 [0]     |\n#   13.752 [0]     |\n#   15.230 [1]     |\n#\n# Status code distribution:\n#   [OK]   6000 responses\n'})}),"\n",(0,r.jsx)(e.h4,{id:"pros",children:"Pros"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"gRPC Native"}),": Tests through actual Rust proxy (integration testing)"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Production-Grade"}),": Used by many companies"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Standard Output"}),": JSON, CSV, HTML reports"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Load Profiles"}),": Ramp-up, step, spike patterns"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Minimal Code"}),": Zero code for basic tests"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"cons",children:"Cons"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"No Direct Integration"}),": Can't test pattern logic directly"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Limited Custom Metrics"}),": Can't track multicast delivery stats"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Proto Dependency"}),": Requires .proto files (manageable)"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Less Flexible"}),": Hard to implement mixed workloads"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"score",children:"Score"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Criterion"}),(0,r.jsx)(e.th,{children:"Score (1-5)"}),(0,r.jsx)(e.th,{children:"Reasoning"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"Native gRPC support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"Limited to standard gRPC metrics"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Learning Curve"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"Simple CLI, easy to learn"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Maintenance"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"External project, no code to maintain"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Integration"}),(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"Tests through proxy (good), not patterns (bad)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Performance"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"High-performance tool"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Total"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"24/30"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Strong for integration testing"})})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"framework-2-k6",children:"Framework 2: k6"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"URL"}),": ",(0,r.jsx)(e.a,{href:"https://k6.io/",children:"https://k6.io/"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Modern load testing tool with Go runtime and JavaScript scripting."]}),"\n",(0,r.jsx)(e.h4,{id:"architecture-2",children:"Architecture"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  k6 (Go Runtime)                                         \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502  JavaScript Test Script (user-written)        \u2502    \u2502\n\u2502  \u2502                                                \u2502    \u2502\n\u2502  \u2502  export default function() {                  \u2502    \u2502\n\u2502  \u2502    const client = new grpc.Client();          \u2502    \u2502\n\u2502  \u2502    client.connect("localhost:8980");          \u2502    \u2502\n\u2502  \u2502    client.invoke("Set", { key: "foo" });      \u2502    \u2502\n\u2502  \u2502  }                                             \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                            \u2502                            \u2502\n\u2502               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502               \u2502  k6 Go Runtime (goja)   \u2502             \u2502\n\u2502               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502                            \u2502                            \u2502\n\u2502                            \u25bc                            \u2502\n\u2502               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502               \u2502  Rust Proxy :8980     \u2502               \u2502\n\u2502               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,r.jsx)(e.h4,{id:"features-1",children:"Features"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"Support"}),(0,r.jsx)(e.th,{children:"Notes"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"\u2705 Plugin"}),(0,r.jsx)(e.td,{children:"Via k6-grpc extension"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Protocol Buffers"}),(0,r.jsx)(e.td,{children:"\u2705 Required"}),(0,r.jsx)(e.td,{children:"Requires .proto reflection or files"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Rate Limiting"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Virtual users + iterations"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Concurrency"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Virtual user model"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Output Formats"}),(0,r.jsx)(e.td,{children:"\u2705 JSON, CSV, Cloud"}),(0,r.jsx)(e.td,{children:"k6 Cloud integration"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Real-time Stats"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Beautiful terminal UI"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"\u2705 Good"}),(0,r.jsx)(e.td,{children:"Custom metrics via JS"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Direct Integration"}),(0,r.jsx)(e.td,{children:"\u274c No"}),(0,r.jsx)(e.td,{children:"JavaScript only"})]})]})]}),"\n",(0,r.jsx)(e.h4,{id:"example-usage-1",children:"Example Usage"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"// loadtest.js\nimport grpc from 'k6/net/grpc';\nimport { check } from 'k6';\n\nconst client = new grpc.Client();\nclient.load(['proto'], 'keyvalue_basic.proto');\n\nexport default function () {\n  client.connect('localhost:8980', { plaintext: true });\n\n  const response = client.invoke('prism.KeyValueBasicInterface/Set', {\n    namespace: 'default',\n    key: 'test-key',\n    value: Buffer.from('test-value').toString('base64'),\n  });\n\n  check(response, {\n    'status is OK': (r) => r.status === grpc.StatusOK,\n  });\n\n  client.close();\n}\n\nexport const options = {\n  vus: 100, // 100 virtual users\n  duration: '60s',\n  thresholds: {\n    'grpc_req_duration': ['p(95)<10'], // P95 < 10ms\n  },\n};\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Run load test\nk6 run loadtest.js\n\n# Output:\n#          /\\      |\u203e\u203e| /\u203e\u203e/   /\u203e\u203e/\n#     /\\  /  \\     |  |/  /   /  /\n#    /  \\/    \\    |     (   /   \u203e\u203e\\\n#   /          \\   |  |\\  \\ |  (\u203e)  |\n#  / __________ \\  |__| \\__\\ \\_____/ .io\n#\n#   execution: local\n#      script: loadtest.js\n#      output: -\n#\n#   scenarios: (100.00%) 1 scenario, 100 max VUs, 1m30s max duration\n#\n#   \u2713 status is OK\n#\n#   grpc_req_duration.........: avg=2.31ms  p(95)=4.5ms  p(99)=8.2ms\n#   grpc_reqs.................: 6000    100.00/s\n#   vus.......................: 100     min=100  max=100\n"})}),"\n",(0,r.jsx)(e.h4,{id:"pros-1",children:"Pros"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Modern UX"}),": Beautiful terminal UI"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Custom Metrics"}),": JavaScript flexibility"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Load Profiles"}),": Sophisticated VU ramping"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Cloud Integration"}),": k6 Cloud for distributed testing"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Ecosystem"}),": Large community, extensions"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"cons-1",children:"Cons"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"JavaScript Required"}),": Team must learn JS for load tests"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"gRPC Via Plugin"}),": Not native gRPC support"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Complexity"}),": Overkill for simple tests"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"No Direct Integration"}),": Can't test patterns directly"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"score-1",children:"Score"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Criterion"}),(0,r.jsx)(e.th,{children:"Score (1-5)"}),(0,r.jsx)(e.th,{children:"Reasoning"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"Via plugin, not native"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"Good JS flexibility"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Learning Curve"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"Requires JavaScript knowledge"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Maintenance"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"External project"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Integration"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"Must learn k6 + JS ecosystem"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Performance"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"High-performance (Go runtime)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Total"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"20/30"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Powerful but complex"})})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"framework-3-vegeta-http-library",children:"Framework 3: vegeta (HTTP Library)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"URL"}),": ",(0,r.jsx)(e.a,{href:"https://github.com/tsenart/vegeta",children:"https://github.com/tsenart/vegeta"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": HTTP load testing library and CLI tool."]}),"\n",(0,r.jsx)(e.h4,{id:"features-2",children:"Features"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"Support"}),(0,r.jsx)(e.th,{children:"Notes"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"\u274c No"}),(0,r.jsx)(e.td,{children:"HTTP only"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"HTTP/2"}),(0,r.jsx)(e.td,{children:"\u2705 Yes"}),(0,r.jsx)(e.td,{children:"Can test gRPC-Web"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Rate Limiting"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Constant rate"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Concurrency"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Worker pool"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Output Formats"}),(0,r.jsx)(e.td,{children:"\u2705 JSON, CSV, binary"}),(0,r.jsx)(e.td,{children:"Standard formats"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Library Mode"}),(0,r.jsx)(e.td,{children:"\u2705 Yes"}),(0,r.jsx)(e.td,{children:"Can embed in Go code"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"\u2705 Good"}),(0,r.jsx)(e.td,{children:"Go library flexibility"})]})]})]}),"\n",(0,r.jsx)(e.h4,{id:"pros-2",children:"Pros"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Library"}),": Can embed in custom tools"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Mature"}),": Well-tested, stable"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Go Native"}),": Easy integration"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"cons-2",children:"Cons"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"No gRPC"}),": HTTP only (dealbreaker for Prism)"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"score-2",children:"Score"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Criterion"}),(0,r.jsx)(e.th,{children:"Score (1-5)"}),(0,r.jsx)(e.th,{children:"Reasoning"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"0"}),(0,r.jsx)(e.td,{children:"No gRPC support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Total"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Disqualified"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"No gRPC = not viable"})})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"framework-4-fortio-istios-tool",children:"Framework 4: fortio (Istio's Tool)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"URL"}),": ",(0,r.jsx)(e.a,{href:"https://github.com/fortio/fortio",children:"https://github.com/fortio/fortio"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Load testing tool from Istio project (HTTP + gRPC)."]}),"\n",(0,r.jsx)(e.h4,{id:"features-3",children:"Features"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"Support"}),(0,r.jsx)(e.th,{children:"Notes"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"\u2705 Yes"}),(0,r.jsx)(e.td,{children:"Native gRPC support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"HTTP Support"}),(0,r.jsx)(e.td,{children:"\u2705 Yes"}),(0,r.jsx)(e.td,{children:"Also supports HTTP/HTTP2"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Rate Limiting"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"QPS control"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Concurrency"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Configurable connections"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Output Formats"}),(0,r.jsx)(e.td,{children:"\u2705 JSON, HTML"}),(0,r.jsx)(e.td,{children:"Includes web UI"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Web UI"}),(0,r.jsx)(e.td,{children:"\u2705 Built-in"}),(0,r.jsx)(e.td,{children:"Real-time dashboard"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"\u274c Limited"}),(0,r.jsx)(e.td,{children:"Standard metrics only"})]})]})]}),"\n",(0,r.jsx)(e.h4,{id:"example-usage-2",children:"Example Usage"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# gRPC load test\nfortio load \\\n  -grpc \\\n  -n 6000 \\\n  -c 100 \\\n  -qps 100 \\\n  -t 60s \\\n  localhost:8980\n\n# Output similar to ghz\n"})}),"\n",(0,r.jsx)(e.h4,{id:"pros-3",children:"Pros"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"gRPC + HTTP"}),": Dual protocol support"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Web UI"}),": Real-time dashboard"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Istio Integration"}),": If we use Istio later"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"cons-3",children:"Cons"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Limited Flexibility"}),": Can't do complex workflows"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Basic Metrics"}),": Standard metrics only"]}),"\n",(0,r.jsxs)(e.li,{children:["\u274c ",(0,r.jsx)(e.strong,{children:"Less Popular"}),": Smaller community than ghz"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"score-3",children:"Score"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Criterion"}),(0,r.jsx)(e.th,{children:"Score (1-5)"}),(0,r.jsx)(e.th,{children:"Reasoning"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"gRPC Support"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"Native gRPC support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Custom Metrics"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"Limited to standard metrics"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Learning Curve"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"Simple CLI"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Maintenance"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"Istio project (stable)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Integration"}),(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"Tests through proxy only"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Performance"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"Good performance"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Total"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"22/30"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Solid alternative to ghz"})})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"framework-5-hey--bombardier-http-tools",children:"Framework 5: hey / bombardier (HTTP Tools)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Simple HTTP benchmarking tools."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Verdict"}),": \u274c ",(0,r.jsx)(e.strong,{children:"Disqualified"})," - No gRPC support"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"framework-comparison-matrix",children:"Framework Comparison Matrix"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Framework"}),(0,r.jsx)(e.th,{children:"gRPC"}),(0,r.jsx)(e.th,{children:"Custom Metrics"}),(0,r.jsx)(e.th,{children:"Learning Curve"}),(0,r.jsx)(e.th,{children:"Maintenance"}),(0,r.jsx)(e.th,{children:"Integration"}),(0,r.jsx)(e.th,{children:"Performance"}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"Total"})})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"ghz"})}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsxs)(e.td,{children:[(0,r.jsx)(e.strong,{children:"24/30"})," \u2705"]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"k6"})}),(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"20/30"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"fortio"})}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"4"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"22/30"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"vegeta"}),(0,r.jsx)(e.td,{children:"0"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"Disqualified"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"hey/bombardier"}),(0,r.jsx)(e.td,{children:"0"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsx)(e.td,{children:"Disqualified"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Custom Tool"})}),(0,r.jsx)(e.td,{children:"0"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:"5"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"22/30"})})]})]})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Key Observations"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"ghz"})," scores highest for integration testing (24/30)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Custom tool"})," excellent for pattern-level testing (22/30)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"k6"})," powerful but complex (20/30)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"fortio"})," solid alternative to ghz (22/30)"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"testing-strategy-two-tier-approach",children:"Testing Strategy: Two-Tier Approach"}),"\n",(0,r.jsx)(e.h3,{id:"insight-two-types-of-load-testing",children:"Insight: Two Types of Load Testing"}),"\n",(0,r.jsxs)(e.p,{children:["Prism needs ",(0,r.jsx)(e.strong,{children:"two distinct types"})," of load testing:"]}),"\n",(0,r.jsx)(e.h4,{id:"1-pattern-level-load-testing-unit-load-testing",children:"1. Pattern-Level Load Testing (Unit Load Testing)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Goal"}),": Test pattern logic in isolation"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Tool"}),": Custom ",(0,r.jsx)(e.code,{children:"prism-loadtest"})," \u2705"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Architecture"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"prism-loadtest \u2192 Coordinator \u2192 Redis/NATS\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Benefits"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u2705 No proxy overhead (fastest possible)"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Custom metrics (multicast delivery stats)"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Direct debugging"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Isolated testing"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Use Cases"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Pattern development (POC 1-4)"}),"\n",(0,r.jsx)(e.li,{children:"Backend benchmarking (Redis vs SQLite)"}),"\n",(0,r.jsx)(e.li,{children:"Algorithm optimization (TTL cleanup, fan-out)"}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"2-integration-level-load-testing-end-to-end",children:"2. Integration-Level Load Testing (End-to-End)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Goal"}),": Test through Rust proxy via gRPC"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Tool"}),": ",(0,r.jsx)(e.code,{children:"ghz"})," \u2705"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Architecture"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"ghz \u2192 Rust Proxy (gRPC) \u2192 Pattern (gRPC) \u2192 Redis/NATS\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Benefits"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u2705 Tests real production path"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Includes gRPC overhead"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Validates proxy performance"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Catches serialization issues"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Use Cases"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Integration testing (POC 1+)"}),"\n",(0,r.jsx)(e.li,{children:"Proxy performance validation"}),"\n",(0,r.jsx)(e.li,{children:"End-to-end latency measurement"}),"\n",(0,r.jsx)(e.li,{children:"Production load simulation"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"recommended-architecture",children:"Recommended Architecture"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-text",children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Load Testing Strategy                       \u2502\n\u2502                                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Pattern-Level Tests  \u2502         \u2502 Integration Tests    \u2502   \u2502\n\u2502  \u2502  (prism-loadtest)     \u2502         \u2502 (ghz)                \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502              \u2502                                 \u2502               \u2502\n\u2502              \u2502                                 \u2502               \u2502\n\u2502              \u25bc                                 \u25bc               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Coordinator (direct) \u2502         \u2502  Rust Proxy (gRPC)   \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502              \u2502                                 \u2502               \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                            \u2502                                   \u2502\n\u2502                            \u25bc                                   \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502              \u2502  Redis + NATS Backends  \u2502                      \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(e.h2,{id:"recommended-strategy",children:"Recommended Strategy"}),"\n",(0,r.jsx)(e.h3,{id:"phase-1-poc-1-current-state",children:"Phase 1: POC 1 (Current State)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Keep Custom Tool"})," (",(0,r.jsx)(e.code,{children:"prism-loadtest"}),")"]}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Rationale"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Already production-ready (MEMO-010)"}),"\n",(0,r.jsx)(e.li,{children:"Pattern-level testing sufficient for POC 1"}),"\n",(0,r.jsx)(e.li,{children:"No proxy implementation yet"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Actions"}),":"]}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Continue using prism-loadtest"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add advanced load profiles (ramp-up, spike)"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add JSON output format"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"phase-2-poc-2-add-integration-testing",children:"Phase 2: POC 2+ (Add Integration Testing)"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Add ghz for Integration Testing"})}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"Rationale"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Rust proxy will be ready"}),"\n",(0,r.jsx)(e.li,{children:"Need end-to-end testing"}),"\n",(0,r.jsx)(e.li,{children:"ghz scores highest for integration (24/30)"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Actions"}),":"]}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Install ghz"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Create ghz test scenarios for each pattern"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Integrate into CI/CD"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Compare results (pattern-level vs integration)"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Example ghz Test Suite"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# tests/load/ghz/keyvalue.sh\n#!/bin/bash\n\n# Test MemStore pattern via proxy\nghz --proto proto/interfaces/keyvalue_basic.proto \\\n    --call prism.KeyValueBasicInterface.Set \\\n    --insecure \\\n    --rps 100 \\\n    --duration 60s \\\n    --data \'{"namespace":"default","key":"test-{{.RequestNumber}}","value":"dGVzdC12YWx1ZQ=="}\' \\\n    --output json \\\n    --output-path results/memstore-set.json \\\n    localhost:8980\n\n# Test Redis pattern via proxy\nghz --proto proto/interfaces/keyvalue_basic.proto \\\n    --call prism.KeyValueBasicInterface.Get \\\n    --insecure \\\n    --rps 100 \\\n    --duration 60s \\\n    --data \'{"namespace":"default","key":"test-{{.RequestNumber}}"}\' \\\n    --output json \\\n    --output-path results/redis-get.json \\\n    localhost:8981\n'})}),"\n",(0,r.jsx)(e.h3,{id:"phase-3-future-optional-enhancements",children:"Phase 3: Future (Optional Enhancements)"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Consider k6 for Advanced Scenarios"})}),"\n",(0,r.jsxs)(e.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(e.strong,{children:"Use Cases"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Multi-protocol testing (gRPC + HTTP + WebSocket)"}),"\n",(0,r.jsx)(e.li,{children:"Complex user journeys (multi-step workflows)"}),"\n",(0,r.jsx)(e.li,{children:"Cloud-scale distributed load testing"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Decision Criteria"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"If we need distributed load testing \u2192 Adopt k6"}),"\n",(0,r.jsx)(e.li,{children:"If simple gRPC testing sufficient \u2192 Stick with ghz"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"implementation-plan",children:"Implementation Plan"}),"\n",(0,r.jsx)(e.h3,{id:"week-1-enhance-custom-tool",children:"Week 1: Enhance Custom Tool"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Tasks"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Add ramp-up load profile"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'// cmd/prism-loadtest/cmd/root.go\nrootCmd.PersistentFlags().String("profile", "constant", "Load profile: constant, ramp-up, spike")\nrootCmd.PersistentFlags().Int("ramp-duration", 30, "Ramp-up duration (seconds)")\nrootCmd.PersistentFlags().Int("max-rate", 1000, "Max rate for ramp-up (req/sec)")\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Add JSON output format"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'// cmd/prism-loadtest/cmd/output.go\ntype JSONReport struct {\n    Duration        string  `json:"duration"`\n    TotalRequests   int64   `json:"total_requests"`\n    Successful      int64   `json:"successful"`\n    Failed          int64   `json:"failed"`\n    Throughput      float64 `json:"throughput"`\n    LatencyMin      string  `json:"latency_min"`\n    LatencyMax      string  `json:"latency_max"`\n    LatencyAvg      string  `json:"latency_avg"`\n    LatencyP50      string  `json:"latency_p50"`\n    LatencyP95      string  `json:"latency_p95"`\n    LatencyP99      string  `json:"latency_p99"`\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Add spike load profile"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# 0-30s: 100 req/sec\n# 30-35s: 1000 req/sec (spike)\n# 35-60s: 100 req/sec\n./prism-loadtest mixed --profile spike --spike-duration 5s --spike-rate 1000 -r 100 -d 60s\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Estimated Effort"}),": 2 days"]}),"\n",(0,r.jsx)(e.h3,{id:"week-2-add-ghz-integration-testing",children:"Week 2: Add ghz Integration Testing"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Tasks"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Install ghz"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"go install github.com/bojand/ghz/cmd/ghz@latest\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Create ghz test suite"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p tests/load/ghz\n# Create test scripts for each pattern\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Add to CI/CD"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'# .github/workflows/load-test.yml\n- name: Run integration load tests\n  run: |\n    # Start proxy\n    cd proxy && cargo run --release &\n    PROXY_PID=$!\n\n    # Wait for proxy\n    sleep 5\n\n    # Run ghz tests\n    ghz --proto proto/interfaces/keyvalue_basic.proto \\\n        --call prism.KeyValueBasicInterface.Set \\\n        --insecure \\\n        --rps 100 \\\n        --duration 30s \\\n        --data \'{"namespace":"default","key":"test-key","value":"dGVzdC12YWx1ZQ=="}\' \\\n        localhost:8980\n\n    # Stop proxy\n    kill $PROXY_PID\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Compare results"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Pattern-level (no gRPC overhead)\n./prism-loadtest register -r 100 -d 60s\n# Expected: P95 = 5ms\n\n# Integration-level (with gRPC overhead)\nghz --proto proto/interfaces/keyvalue_basic.proto \\\n    --call prism.KeyValueBasicInterface.Set \\\n    --rps 100 \\\n    --duration 60s \\\n    localhost:8980\n# Expected: P95 = 8-10ms (gRPC adds ~3-5ms)\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Estimated Effort"}),": 3 days"]}),"\n",(0,r.jsx)(e.h2,{id:"decision-matrix",children:"Decision Matrix"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Scenario"}),(0,r.jsx)(e.th,{children:"Tool"}),(0,r.jsx)(e.th,{children:"Reasoning"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Pattern Development"})}),(0,r.jsx)(e.td,{children:"prism-loadtest"}),(0,r.jsx)(e.td,{children:"Direct integration, custom metrics"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Backend Benchmarking"})}),(0,r.jsx)(e.td,{children:"prism-loadtest"}),(0,r.jsx)(e.td,{children:"No proxy overhead"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Integration Testing"})}),(0,r.jsx)(e.td,{children:"ghz"}),(0,r.jsx)(e.td,{children:"Tests through proxy"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"CI/CD Regression"})}),(0,r.jsx)(e.td,{children:"ghz"}),(0,r.jsx)(e.td,{children:"End-to-end validation"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Production Validation"})}),(0,r.jsx)(e.td,{children:"ghz"}),(0,r.jsx)(e.td,{children:"Real production path"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Algorithm Optimization"})}),(0,r.jsx)(e.td,{children:"prism-loadtest"}),(0,r.jsx)(e.td,{children:"Isolated, fastest feedback"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Complex Workflows"})}),(0,r.jsx)(e.td,{children:"k6 (future)"}),(0,r.jsx)(e.td,{children:"Multi-step scenarios"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"benefits",children:"Benefits"}),"\n",(0,r.jsx)(e.h3,{id:"two-tier-strategy",children:"Two-Tier Strategy"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Best of Both Worlds"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Pattern-level: Fast iteration, custom metrics"}),"\n",(0,r.jsx)(e.li,{children:"Integration-level: Production accuracy"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Minimal Code Changes"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Keep existing prism-loadtest (validated)"}),"\n",(0,r.jsx)(e.li,{children:"Add ghz (zero code, just scripts)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Comprehensive Coverage"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Unit load testing: Pattern logic"}),"\n",(0,r.jsx)(e.li,{children:"Integration load testing: End-to-end"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Clear Separation"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Developers: Use prism-loadtest for pattern work"}),"\n",(0,r.jsx)(e.li,{children:"QA/DevOps: Use ghz for integration/production validation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"cost-benefit-analysis",children:"Cost-Benefit Analysis"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Approach"}),(0,r.jsx)(e.th,{children:"Code Maintenance"}),(0,r.jsx)(e.th,{children:"Features"}),(0,r.jsx)(e.th,{children:"Coverage"}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"Score"})})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Custom Only"})}),(0,r.jsx)(e.td,{children:"High (~800 LOC)"}),(0,r.jsx)(e.td,{children:"Custom metrics \u2705"}),(0,r.jsx)(e.td,{children:"Pattern-level only \u274c"}),(0,r.jsx)(e.td,{children:"2/3"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"ghz Only"})}),(0,r.jsx)(e.td,{children:"None"}),(0,r.jsx)(e.td,{children:"Standard metrics \u274c"}),(0,r.jsx)(e.td,{children:"Integration-level only \u274c"}),(0,r.jsx)(e.td,{children:"1/3"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Two-Tier"})}),(0,r.jsx)(e.td,{children:"Medium (~800 LOC)"}),(0,r.jsx)(e.td,{children:"Custom metrics \u2705"}),(0,r.jsx)(e.td,{children:"Both levels \u2705"}),(0,r.jsxs)(e.td,{children:[(0,r.jsx)(e.strong,{children:"3/3"})," \u2705"]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"k6 Only"}),(0,r.jsx)(e.td,{children:"None"}),(0,r.jsx)(e.td,{children:"Advanced \u2705"}),(0,r.jsx)(e.td,{children:"Integration-level only \u274c"}),(0,r.jsx)(e.td,{children:"2/3"})]})]})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Winner"}),": Two-Tier Strategy (3/3)"]}),"\n",(0,r.jsx)(e.h2,{id:"risks-and-mitigations",children:"Risks and Mitigations"}),"\n",(0,r.jsx)(e.h3,{id:"risk-1-maintaining-two-tools",children:"Risk 1: Maintaining Two Tools"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Risk"}),": Overhead of maintaining prism-loadtest + ghz scripts"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Mitigation"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"prism-loadtest: Only ~800 LOC, well-tested"}),"\n",(0,r.jsx)(e.li,{children:"ghz: No code to maintain (just shell scripts)"}),"\n",(0,r.jsx)(e.li,{children:"Clear separation: developers use custom, QA uses ghz"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"risk-2-results-divergence",children:"Risk 2: Results Divergence"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Risk"}),": Pattern-level vs integration-level results differ significantly"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Mitigation"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Expected: gRPC adds ~3-5ms latency (acceptable)"}),"\n",(0,r.jsx)(e.li,{children:"Document baseline overhead"}),"\n",(0,r.jsx)(e.li,{children:"Alert if divergence > 10ms (indicates proxy issue)"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"risk-3-tool-proliferation",children:"Risk 3: Tool Proliferation"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Risk"}),": Team confused about which tool to use"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Mitigation"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Clear documentation (this RFC)"}),"\n",(0,r.jsx)(e.li,{children:"Decision matrix (see above)"}),"\n",(0,r.jsx)(e.li,{children:"CI/CD examples"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"alternatives-considered",children:"Alternatives Considered"}),"\n",(0,r.jsx)(e.h3,{id:"alternative-1-ghz-only",children:"Alternative 1: ghz Only"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Pros"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"No custom code maintenance"}),"\n",(0,r.jsx)(e.li,{children:"Standard tool"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Cons"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u274c Can't test patterns directly"}),"\n",(0,r.jsx)(e.li,{children:"\u274c No custom metrics (multicast delivery)"}),"\n",(0,r.jsx)(e.li,{children:"\u274c Slower iteration (must start proxy)"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Decision"}),": Rejected - need pattern-level testing"]}),"\n",(0,r.jsx)(e.h3,{id:"alternative-2-k6-only",children:"Alternative 2: k6 Only"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Pros"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Modern, powerful"}),"\n",(0,r.jsx)(e.li,{children:"Large ecosystem"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Cons"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u274c Requires JavaScript"}),"\n",(0,r.jsx)(e.li,{children:"\u274c Overkill for simple tests"}),"\n",(0,r.jsx)(e.li,{children:"\u274c No direct pattern integration"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Decision"}),": Rejected - too complex for current needs"]}),"\n",(0,r.jsx)(e.h3,{id:"alternative-3-custom-only--vegeta-library",children:"Alternative 3: Custom Only + vegeta Library"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Idea"}),": Embed vegeta library in prism-loadtest for HTTP testing"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Pros"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Single tool"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Cons"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u274c vegeta doesn't support gRPC"}),"\n",(0,r.jsx)(e.li,{children:"\u274c More maintenance burden"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Decision"}),": Rejected - vegeta doesn't support gRPC"]}),"\n",(0,r.jsx)(e.h2,{id:"success-metrics",children:"Success Metrics"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Metric"}),(0,r.jsx)(e.th,{children:"Target"}),(0,r.jsx)(e.th,{children:"Measurement"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Tool Adoption"})}),(0,r.jsx)(e.td,{children:"100% team uses tools"}),(0,r.jsx)(e.td,{children:"Survey after POC 2"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Pattern-Level Coverage"})}),(0,r.jsx)(e.td,{children:"All patterns have load tests"}),(0,r.jsx)(e.td,{children:"Test inventory"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Integration Coverage"})}),(0,r.jsx)(e.td,{children:"All gRPC endpoints tested"}),(0,r.jsx)(e.td,{children:"ghz test suite"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Performance Baseline"})}),(0,r.jsx)(e.td,{children:"<5ms P95 pattern-level"}),(0,r.jsx)(e.td,{children:"prism-loadtest results"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Performance Integration"})}),(0,r.jsx)(e.td,{children:"<10ms P95 end-to-end"}),(0,r.jsx)(e.td,{children:"ghz results"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"CI/CD Integration"})}),(0,r.jsx)(e.td,{children:"Load tests in CI pipeline"}),(0,r.jsx)(e.td,{children:"GitHub Actions"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(e.h3,{id:"immediate-poc-1",children:"Immediate (POC 1)"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Enhance prism-loadtest"}),":"]}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add ramp-up profile"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add JSON output"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add spike profile"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Document usage"}),":"]}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Update README with examples"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Create decision matrix doc"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"short-term-poc-2",children:"Short-Term (POC 2)"}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Install ghz"}),":"]}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add to Dockerfile"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Create ghz test suite"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"CI/CD Integration"}),":"]}),"\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Add ghz tests to GitHub Actions"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Set up performance regression alerts"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"long-term-poc-5",children:"Long-Term (POC 5+)"}),"\n",(0,r.jsxs)(e.ol,{start:"5",children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Evaluate k6"})," (if needed):\n",(0,r.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," Assess need for distributed load testing"]}),"\n",(0,r.jsxs)(e.li,{className:"task-list-item",children:[(0,r.jsx)(e.input,{type:"checkbox",disabled:!0})," If yes: Create k6 test suite"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"related-documents",children:"Related Documents"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/memos/memo-010",children:"MEMO-010: Load Test Results"})})," - Validation of custom tool"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/rfc/rfc-021",children:"RFC-021: POC 1 Implementation"})})," - Three plugins implementation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/rfc/rfc-018",children:"RFC-018: POC Strategy"})})," - Overall POC roadmap"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/CLAUDE.md",children:"CLAUDE.md"})})," - Development workflow"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Recommendation"}),": Adopt ",(0,r.jsx)(e.strong,{children:"two-tier load testing strategy"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Keep prism-loadtest"})," for pattern-level testing"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Validated by MEMO-010"}),"\n",(0,r.jsx)(e.li,{children:"Custom metrics"}),"\n",(0,r.jsx)(e.li,{children:"Fast iteration"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Add ghz"})," for integration testing"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Tests through Rust proxy"}),"\n",(0,r.jsx)(e.li,{children:"Standard gRPC tool"}),"\n",(0,r.jsx)(e.li,{children:"Zero code maintenance"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"This strategy provides:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u2705 Comprehensive coverage (pattern + integration)"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Minimal maintenance (800 LOC + scripts)"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Clear separation (dev vs QA tools)"}),"\n",(0,r.jsx)(e.li,{children:"\u2705 Best-of-breed solutions for each use case"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Action"}),": Proceed with Phase 1 (enhance custom tool) and Phase 2 (add ghz)."]}),"\n",(0,r.jsx)(e.h2,{id:"revision-history",children:"Revision History"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"2025-10-11: Initial evaluation of Go load testing frameworks and recommendation for two-tier strategy"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}}}]);