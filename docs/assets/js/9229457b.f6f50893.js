"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[4839],{3819:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"RFC-003-admin-interface","title":"RFC-003: Admin Interface for Prism","description":"Abstract","source":"@site/../docs-cms/rfcs/RFC-003-admin-interface.md","sourceDirName":".","slug":"/RFC-003-admin-interface","permalink":"/prism-data-layer/rfc/RFC-003-admin-interface","draft":false,"unlisted":false,"editUrl":"https://github.com/jrepp/prism-data-layer/tree/main/docs-cms/../docs-cms/rfcs/RFC-003-admin-interface.md","tags":[],"version":"current","frontMatter":{"title":"RFC-003: Admin Interface for Prism","status":"Proposed","author":"Platform Team","created":"2025-10-08T00:00:00.000Z","updated":"2025-10-08T00:00:00.000Z"},"sidebar":"rfcSidebar","previous":{"title":"RFC-002: Data Layer Interface Specification","permalink":"/prism-data-layer/rfc/RFC-002-data-layer-interface"},"next":{"title":"Request for Comments (RFCs)","permalink":"/prism-data-layer/rfc/"}}');var r=i(4848),t=i(8453);const a={title:"RFC-003: Admin Interface for Prism",status:"Proposed",author:"Platform Team",created:new Date("2025-10-08T00:00:00.000Z"),updated:new Date("2025-10-08T00:00:00.000Z")},o=void 0,l={},c=[{value:"Abstract",id:"abstract",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Proposed Design",id:"proposed-design",level:2},{value:"Architecture Overview",id:"architecture-overview",level:3},{value:"Component 1: Admin API (gRPC)",id:"component-1-admin-api-grpc",level:3},{value:"Component 2: Admin UI (FastAPI + gRPC-Web)",id:"component-2-admin-ui-fastapi--grpc-web",level:3},{value:"Component 3: Audit Logging",id:"component-3-audit-logging",level:3},{value:"Deployment",id:"deployment",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Authorization",id:"authorization",level:3},{value:"Network Isolation",id:"network-isolation",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Caching",id:"caching",level:3},{value:"Pagination",id:"pagination",level:3},{value:"Async Operations",id:"async-operations",level:3},{value:"Migration and Rollout",id:"migration-and-rollout",level:2},{value:"Phase 1: Admin API (Week 1-2)",id:"phase-1-admin-api-week-1-2",level:3},{value:"Phase 2: Audit Logging (Week 2-3)",id:"phase-2-audit-logging-week-2-3",level:3},{value:"Phase 3: Admin UI (Week 3-4)",id:"phase-3-admin-ui-week-3-4",level:3},{value:"Phase 4: Full UI Features (Week 4-6)",id:"phase-4-full-ui-features-week-4-6",level:3},{value:"Phase 5: Productionization (Week 6-8)",id:"phase-5-productionization-week-6-8",level:3},{value:"Testing Strategy",id:"testing-strategy",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Integration Tests",id:"integration-tests",level:3},{value:"E2E Tests",id:"e2e-tests",level:3},{value:"Monitoring and Observability",id:"monitoring-and-observability",level:2},{value:"Metrics",id:"metrics",level:3},{value:"Alerts",id:"alerts",level:3},{value:"Open Questions",id:"open-questions",level:2},{value:"References",id:"references",level:2},{value:"Revision History",id:"revision-history",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"abstract",children:"Abstract"}),"\n",(0,r.jsx)(n.p,{children:"This RFC specifies the administrative interface for Prism, enabling operators to manage configurations, monitor sessions, view backend health, and perform operational tasks. The design separates admin concerns from the data plane while maintaining consistency with Prism's gRPC-first architecture."}),"\n",(0,r.jsx)(n.h2,{id:"motivation",children:"Motivation"}),"\n",(0,r.jsx)(n.p,{children:"Prism requires administrative capabilities beyond the data plane APIs. Operators need to:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manage Configuration"}),": Create, update, and delete client configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Sessions"}),": View active sessions, metrics, and troubleshoot issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintain System Health"}),": Check backend status, drain connections, enable maintenance mode"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Operations"}),": Track administrative actions for compliance and debugging"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Visualize System State"}),": Browser-accessible UI for non-CLI users"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Goals:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Provide complete administrative control via gRPC API"}),"\n",(0,r.jsx)(n.li,{children:"Enable browser-based administration for broader accessibility"}),"\n",(0,r.jsx)(n.li,{children:"Maintain security isolation from data plane"}),"\n",(0,r.jsx)(n.li,{children:"Support audit logging for all administrative actions"}),"\n",(0,r.jsx)(n.li,{children:"Keep deployment simple with minimal dependencies"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Non-Goals:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time monitoring dashboards (use Prometheus/Grafana)"}),"\n",(0,r.jsx)(n.li,{children:"Complex workflow orchestration (use external tools)"}),"\n",(0,r.jsx)(n.li,{children:"Multi-cluster management (single cluster scope)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"proposed-design",children:"Proposed Design"}),"\n",(0,r.jsx)(n.h3,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Admin Clients                         \u2502\n\u2502                                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 CLI Tool     \u2502  \u2502 Web Browser  \u2502  \u2502 Automation   \u2502   \u2502\n\u2502  \u2502 (grpcurl)    \u2502  \u2502 (FastAPI UI) \u2502  \u2502 (Go/Python)  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502         \u2502                  \u2502                  \u2502            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                  \u2502                  \u2502\n          \u2502 gRPC             \u2502 HTTP/gRPC-Web    \u2502 gRPC\n          \u2502                  \u2502                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               Prism Proxy (Port 8981)                      \u2502\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 AdminService (gRPC)                                  \u2502 \u2502\n\u2502  \u2502 - Config management                                  \u2502 \u2502\n\u2502  \u2502 - Session monitoring                                 \u2502 \u2502\n\u2502  \u2502 - Namespace operations                               \u2502 \u2502\n\u2502  \u2502 - Backend health                                     \u2502 \u2502\n\u2502  \u2502 - Operational commands                               \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Audit Logger                                         \u2502 \u2502\n\u2502  \u2502 - Records all admin operations                       \u2502 \u2502\n\u2502  \u2502 - Actor identity tracking                            \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502\n          \u2502 Data access\n          \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Backend Storage                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n\u2502  \u2502 Postgres \u2502  \u2502 Kafka    \u2502  \u2502 NATS     \u2502                  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"component-1-admin-api-grpc",children:"Component 1: Admin API (gRPC)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Design Choice: Separate gRPC service on dedicated port"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rationale:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security Isolation"}),": Different port prevents accidental data plane access"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Independent Scaling"}),": Admin traffic patterns differ from data plane"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Evolution"}),": Admin API versions independently"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Firewall-Friendly"}),": Internal-only port easily restricted"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Alternative Considered: Combined service"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Pros"}),": Simpler deployment, single port"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Cons"}),": Security risk, hard to separate auth, unclear boundaries"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Decision"}),": Rejected due to security requirements"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"API Surface:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",children:"service AdminService {\n  // Configuration Management\n  rpc ListConfigs(ListConfigsRequest) returns (ListConfigsResponse);\n  rpc GetConfig(GetConfigRequest) returns (GetConfigResponse);\n  rpc CreateConfig(CreateConfigRequest) returns (CreateConfigResponse);\n  rpc UpdateConfig(UpdateConfigRequest) returns (UpdateConfigResponse);\n  rpc DeleteConfig(DeleteConfigRequest) returns (DeleteConfigResponse);\n\n  // Session Management\n  rpc ListSessions(ListSessionsRequest) returns (ListSessionsResponse);\n  rpc GetSession(GetSessionRequest) returns (GetSessionResponse);\n  rpc TerminateSession(TerminateSessionRequest) returns (TerminateSessionResponse);\n\n  // Namespace Management\n  rpc ListNamespaces(ListNamespacesRequest) returns (ListNamespacesResponse);\n  rpc CreateNamespace(CreateNamespaceRequest) returns (CreateNamespaceResponse);\n  rpc UpdateNamespace(UpdateNamespaceRequest) returns (UpdateNamespaceResponse);\n  rpc DeleteNamespace(DeleteNamespaceRequest) returns (DeleteNamespaceResponse);\n\n  // Backend Health\n  rpc GetBackendStatus(GetBackendStatusRequest) returns (GetBackendStatusResponse);\n  rpc ListBackends(ListBackendsRequest) returns (ListBackendsResponse);\n\n  // Operational Commands\n  rpc SetMaintenanceMode(SetMaintenanceModeRequest) returns (SetMaintenanceModeResponse);\n  rpc DrainConnections(DrainConnectionsRequest) returns (DrainConnectionsResponse);\n  rpc GetMetrics(GetMetricsRequest) returns (GetMetricsResponse);\n\n  // Audit\n  rpc GetAuditLog(GetAuditLogRequest) returns (stream AuditLogEntry);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Implementation:"})}),"\n",(0,r.jsx)(n.p,{children:"Run on separate port (8981) alongside data plane (8980):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'// proxy/src/main.rs\n#[tokio::main]\nasync fn main() -> Result<()> {\n    let data_addr = "0.0.0.0:8980".parse()?;\n    let admin_addr = "0.0.0.0:8981".parse()?;\n\n    // Data plane server\n    let data_server = Server::builder()\n        .add_service(SessionServiceServer::new(session_svc))\n        .add_service(QueueServiceServer::new(queue_svc))\n        .serve(data_addr);\n\n    // Admin plane server\n    let admin_server = Server::builder()\n        .add_service(AdminServiceServer::new(admin_svc))\n        .serve(admin_addr);\n\n    tokio::try_join!(data_server, admin_server)?;\n    Ok(())\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication:"})}),"\n",(0,r.jsx)(n.p,{children:"Admin API requires separate credentials:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# Metadata in all admin requests\nmetadata:\n  x-admin-token: "admin-abc123"\n  x-admin-user: "alice@example.com"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Strong security boundary"}),"\n",(0,r.jsx)(n.li,{children:"Standard gRPC authentication patterns"}),"\n",(0,r.jsx)(n.li,{children:"Supports multiple auth methods (API keys, OAuth2, mTLS)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requires credential management"}),"\n",(0,r.jsx)(n.li,{children:"Different auth flow than data plane"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Decision"}),": Use admin API keys with rotation policy"]}),"\n",(0,r.jsx)(n.h3,{id:"component-2-admin-ui-fastapi--grpc-web",children:"Component 2: Admin UI (FastAPI + gRPC-Web)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Design Choice: FastAPI serving static files + gRPC-Web proxy"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rationale:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Browser Compatibility"}),": gRPC-Web enables browser access to gRPC backend"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simple Deployment"}),": Single container with Python service"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No Framework Overhead"}),": Vanilla JavaScript sufficient for admin UI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fast Iteration"}),": No build step for frontend changes"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Alternative Considered: React/Vue SPA"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Pros"}),": Rich UI, reactive, component-based"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Cons"}),": Build complexity, large bundle size, overkill for admin UI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Decision"}),": Rejected in favor of simplicity"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Alternative Considered: Envoy gRPC-Web proxy"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Pros"}),": Production-grade, feature-rich"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Cons"}),": Additional process, more complex configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Decision"}),": Deferred; FastAPI sufficient initially, can migrate if needed"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Architecture:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Browser \u2192 HTTP/gRPC-Web \u2192 FastAPI \u2192 gRPC \u2192 Prism Admin API\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Implementation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# admin-ui/main.py\nfrom fastapi import FastAPI\nfrom fastapi.staticfiles import StaticFiles\nfrom fastapi.responses import FileResponse\n\napp = FastAPI(title="Prism Admin UI")\n\n# Serve static files\napp.mount("/static", StaticFiles(directory="static"), name="static")\n\n@app.get("/")\nasync def read_root():\n    return FileResponse("static/index.html")\n\n@app.post("/prism.admin.v1.AdminService/{method}")\nasync def grpc_proxy(method: str, request: bytes):\n    """Proxy gRPC-Web requests to gRPC backend"""\n    channel = grpc.aio.insecure_channel("prism-proxy:8981")\n    # Forward request and convert response\n    # ... implementation details ...\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Frontend Structure:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"admin-ui/static/\n\u251c\u2500\u2500 index.html          # Main page\n\u251c\u2500\u2500 css/\n\u2502   \u2514\u2500\u2500 styles.css      # Tailwind or minimal CSS\n\u251c\u2500\u2500 js/\n\u2502   \u251c\u2500\u2500 admin_grpc_web_pb.js   # Generated gRPC-Web client\n\u2502   \u251c\u2500\u2500 config.js       # Config management\n\u2502   \u251c\u2500\u2500 sessions.js     # Session monitoring\n\u2502   \u2514\u2500\u2500 health.js       # Health dashboard\n\u2514\u2500\u2500 lib/\n    \u2514\u2500\u2500 grpc-web.js     # gRPC-Web runtime\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"JavaScript Client:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// admin-ui/static/js/config.js\nimport {AdminServiceClient} from './admin_grpc_web_pb.js';\n\nconst client = new AdminServiceClient('http://localhost:8000');\n\nasync function loadConfigs() {\n    const request = new ListConfigsRequest();\n\n    client.listConfigs(request, {'x-admin-token': getAdminToken()}, (err, response) => {\n        if (err) {\n            console.error('Error:', err);\n            return;\n        }\n        renderConfigs(response.getConfigsList());\n    });\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No build step required"}),"\n",(0,r.jsx)(n.li,{children:"Fast development iteration"}),"\n",(0,r.jsx)(n.li,{children:"Small deployment footprint"}),"\n",(0,r.jsx)(n.li,{children:"Easy debugging (view source in browser)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Manual DOM manipulation"}),"\n",(0,r.jsx)(n.li,{children:"No reactive framework"}),"\n",(0,r.jsx)(n.li,{children:"Limited UI component library"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Decision"}),": Use vanilla JavaScript initially, migrate to framework if UI complexity grows"]}),"\n",(0,r.jsx)(n.h3,{id:"component-3-audit-logging",children:"Component 3: Audit Logging"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Design Choice: Structured audit log with queryable storage"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rationale:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compliance"}),": Track all administrative actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Debugging"}),": Reconstruct sequence of operations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Detect unauthorized access attempts"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Implementation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'impl AdminService {\n    async fn create_config(&self, req: CreateConfigRequest) -> Result<CreateConfigResponse> {\n        let actor = self.get_admin_user_from_metadata()?;\n\n        // Perform operation\n        let result = self.config_store.create(req.config).await;\n\n        // Audit log\n        self.audit_logger.log(AuditLogEntry {\n            timestamp: Utc::now(),\n            actor: actor.email,\n            operation: "CreateConfig".to_string(),\n            resource: format!("config:{}", req.config.name),\n            namespace: req.config.namespace,\n            success: result.is_ok(),\n            error: result.as_ref().err().map(|e| e.to_string()),\n            metadata: extract_metadata(&req),\n        }).await;\n\n        result\n    }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Storage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE audit_log (\n    id UUID PRIMARY KEY,\n    timestamp TIMESTAMPTZ NOT NULL,\n    actor TEXT NOT NULL,\n    operation TEXT NOT NULL,\n    resource TEXT NOT NULL,\n    namespace TEXT,\n    success BOOLEAN NOT NULL,\n    error TEXT,\n    metadata JSONB,\n\n    INDEX idx_audit_timestamp ON audit_log(timestamp DESC),\n    INDEX idx_audit_actor ON audit_log(actor),\n    INDEX idx_audit_operation ON audit_log(operation)\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Comprehensive audit trail"}),"\n",(0,r.jsx)(n.li,{children:"Queryable via SQL"}),"\n",(0,r.jsx)(n.li,{children:"Supports compliance requirements"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Storage overhead"}),"\n",(0,r.jsx)(n.li,{children:"Performance impact (async mitigates)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Decision"}),": Always log admin operations; use async writes to minimize latency"]}),"\n",(0,r.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Docker Compose:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'services:\n  prism-proxy:\n    image: prism/proxy:latest\n    ports:\n      - "8980:8980"  # Data plane\n      - "8981:8981"  # Admin API\n    environment:\n      PRISM_DATA_PORT: 8980\n      PRISM_ADMIN_PORT: 8981\n\n  admin-ui:\n    image: prism/admin-ui:latest\n    ports:\n      - "8000:8000"\n    environment:\n      PRISM_ADMIN_ENDPOINT: prism-proxy:8981\n      ADMIN_TOKEN_SECRET: ${ADMIN_TOKEN_SECRET}\n    depends_on:\n      - prism-proxy\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Network Policy:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Kubernetes NetworkPolicy example\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: prism-admin-policy\nspec:\n  podSelector:\n    matchLabels:\n      app: prism-proxy\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          role: admin\n    ports:\n    - protocol: TCP\n      port: 8981  # Admin API - internal only\n  - from:\n    - podSelector: {}\n    ports:\n    - protocol: TCP\n      port: 8980  # Data plane - all pods\n"})}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Admin API Keys:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Long-lived, rotatable tokens"}),"\n",(0,r.jsx)(n.li,{children:"Scoped to specific operations (RBAC)"}),"\n",(0,r.jsx)(n.li,{children:"Stored in secret management system"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"#[derive(Debug)]\npub struct AdminApiKey {\n    pub key_id: String,\n    pub key_hash: String,\n    pub created_at: DateTime<Utc>,\n    pub expires_at: Option<DateTime<Utc>>,\n    pub permissions: Vec<Permission>,\n}\n\npub enum Permission {\n    ConfigRead,\n    ConfigWrite,\n    SessionRead,\n    SessionTerminate,\n    NamespaceAdmin,\n    OperationalAdmin,\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Alternative: OAuth2"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Pros"}),": Standard protocol, integrates with IdP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Cons"}),": More complex, external dependency"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Decision"}),": Support both; OAuth2 for enterprise deployments"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"authorization",children:"Authorization"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Role-Based Access Control (RBAC):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"roles:\n  admin:\n    - config:*\n    - session:*\n    - namespace:*\n    - operational:*\n\n  operator:\n    - config:read\n    - session:read\n    - session:terminate\n    - operational:maintenance\n\n  viewer:\n    - config:read\n    - session:read\n    - backend:read\n"})}),"\n",(0,r.jsx)(n.h3,{id:"network-isolation",children:"Network Isolation"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Production Setup:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Admin API on internal network only"}),"\n",(0,r.jsx)(n.li,{children:"Admin UI behind VPN or internal load balancer"}),"\n",(0,r.jsx)(n.li,{children:"mTLS for admin API connections"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Example firewall rules\n- port: 8980\n  protocol: TCP\n  allow: [public]\n\n- port: 8981\n  protocol: TCP\n  allow: [internal, 10.0.0.0/8]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"caching",children:"Caching"}),"\n",(0,r.jsx)(n.p,{children:"Admin UI caches configuration list:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Cache configs for 30 seconds\nconst configCache = new Map();\nconst CACHE_TTL = 30000;\n\nasync function getConfigs() {\n    const now = Date.now();\n    const cached = configCache.get('list');\n\n    if (cached && (now - cached.timestamp) < CACHE_TTL) {\n        return cached.data;\n    }\n\n    const configs = await fetchConfigs();\n    configCache.set('list', { data: configs, timestamp: now });\n    return configs;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pagination",children:"Pagination"}),"\n",(0,r.jsx)(n.p,{children:"All list operations support pagination:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",children:"message ListSessionsRequest {\n  int32 page_size = 1;\n  optional string page_token = 2;\n}\n\nmessage ListSessionsResponse {\n  repeated SessionInfo sessions = 1;\n  optional string next_page_token = 2;\n  int32 total_count = 3;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"async-operations",children:"Async Operations"}),"\n",(0,r.jsx)(n.p,{children:"Long-running operations return operation handle:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-protobuf",children:"message DrainConnectionsRequest {\n  optional string namespace = 1;\n  optional google.protobuf.Duration timeout = 2;\n}\n\nmessage DrainConnectionsResponse {\n  string operation_id = 1;  // Track progress\n  int32 initial_count = 2;\n}\n\n// Poll for status\nmessage GetOperationRequest {\n  string operation_id = 1;\n}\n\nmessage GetOperationResponse {\n  bool complete = 1;\n  int32 progress_percent = 2;\n  optional string error = 3;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"migration-and-rollout",children:"Migration and Rollout"}),"\n",(0,r.jsx)(n.h3,{id:"phase-1-admin-api-week-1-2",children:"Phase 1: Admin API (Week 1-2)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement AdminService in Rust"}),"\n",(0,r.jsx)(n.li,{children:"Add authentication/authorization"}),"\n",(0,r.jsx)(n.li,{children:"Deploy on port 8981"}),"\n",(0,r.jsx)(n.li,{children:"CLI tooling for early adopters"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-2-audit-logging-week-2-3",children:"Phase 2: Audit Logging (Week 2-3)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement audit logger"}),"\n",(0,r.jsx)(n.li,{children:"Database schema for audit log"}),"\n",(0,r.jsx)(n.li,{children:"Query interface via GetAuditLog RPC"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-3-admin-ui-week-3-4",children:"Phase 3: Admin UI (Week 3-4)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"FastAPI service setup"}),"\n",(0,r.jsx)(n.li,{children:"gRPC-Web proxy implementation"}),"\n",(0,r.jsx)(n.li,{children:"Basic UI (config management only)"}),"\n",(0,r.jsx)(n.li,{children:"Deploy to staging"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-4-full-ui-features-week-4-6",children:"Phase 4: Full UI Features (Week 4-6)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Session monitoring page"}),"\n",(0,r.jsx)(n.li,{children:"Backend health dashboard"}),"\n",(0,r.jsx)(n.li,{children:"Namespace management"}),"\n",(0,r.jsx)(n.li,{children:"Operational commands"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-5-productionization-week-6-8",children:"Phase 5: Productionization (Week 6-8)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OAuth2 integration"}),"\n",(0,r.jsx)(n.li,{children:"RBAC implementation"}),"\n",(0,r.jsx)(n.li,{children:"Production deployment"}),"\n",(0,r.jsx)(n.li,{children:"Documentation and training"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"testing-strategy",children:"Testing Strategy"}),"\n",(0,r.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"#[cfg(test)]\nmod tests {\n    #[tokio::test]\n    async fn test_create_config() {\n        let service = AdminService::new_test();\n        let req = CreateConfigRequest { /* ... */ };\n        let res = service.create_config(req).await.unwrap();\n        assert!(res.success);\n    }\n\n    #[tokio::test]\n    async fn test_unauthorized_access() {\n        let service = AdminService::new_test();\n        let req = /* request without admin token */;\n        let err = service.create_config(req).await.unwrap_err();\n        assert_eq!(err.code(), Code::Unauthenticated);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"integration-tests",children:"Integration Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Test admin API\ngrpcurl -H "x-admin-token: test-token" \\\n  localhost:8981 \\\n  prism.admin.v1.AdminService/ListConfigs\n\n# Test audit logging\npsql -c "SELECT * FROM audit_log WHERE operation = \'CreateConfig\'"\n\n# Test UI\ncurl http://localhost:8000\n'})}),"\n",(0,r.jsx)(n.h3,{id:"e2e-tests",children:"E2E Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# tests/e2e/test_admin_workflow.py\ndef test_full_admin_workflow():\n    # Create config via UI\n    ui_client.create_config(config_data)\n\n    # Verify config exists\n    config = api_client.get_config(config_name)\n    assert config.name == config_name\n\n    # Verify audit log\n    audit = api_client.get_audit_log(operation="CreateConfig")\n    assert len(audit) == 1\n'})}),"\n",(0,r.jsx)(n.h2,{id:"monitoring-and-observability",children:"Monitoring and Observability"}),"\n",(0,r.jsx)(n.h3,{id:"metrics",children:"Metrics"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'// Prometheus metrics for admin API\nlazy_static! {\n    static ref ADMIN_REQUESTS: IntCounterVec = register_int_counter_vec!(\n        "prism_admin_requests_total",\n        "Total admin API requests",\n        &["operation", "status"]\n    ).unwrap();\n\n    static ref ADMIN_LATENCY: HistogramVec = register_histogram_vec!(\n        "prism_admin_request_duration_seconds",\n        "Admin API request latency",\n        &["operation"]\n    ).unwrap();\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"alerts",children:"Alerts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# Prometheus alerting rules\ngroups:\n- name: prism_admin\n  rules:\n  - alert: AdminAPIHighErrorRate\n    expr: |\n      rate(prism_admin_requests_total{status="error"}[5m]) > 0.1\n    annotations:\n      summary: "High error rate on admin API"\n\n  - alert: UnauthorizedAdminAccess\n    expr: |\n      rate(prism_admin_requests_total{status="unauthenticated"}[5m]) > 0\n    annotations:\n      summary: "Unauthorized access attempts detected"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"open-questions",children:"Open Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OAuth2 Integration"}),": Which IdP to support first (Okta, Auth0, Google)?"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UI Framework Migration"}),": At what complexity threshold migrate to React/Vue?"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-cluster Support"}),": How to extend admin UI for multi-cluster management?"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backup/Restore"}),": Should admin UI include backup/restore capabilities?"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ADR-027: Admin API via gRPC"}),"\n",(0,r.jsx)(n.li,{children:"ADR-028: Admin UI with FastAPI and gRPC-Web"}),"\n",(0,r.jsx)(n.li,{children:"ADR-029: Protocol Recording with Protobuf Tagging"}),"\n",(0,r.jsx)(n.li,{children:"ADR-030: Schema Recording with Protobuf Tagging"}),"\n",(0,r.jsx)(n.li,{children:"RFC-001: Prism Architecture"}),"\n",(0,r.jsx)(n.li,{children:"RFC-002: Data Layer Interface Specification"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md",children:"gRPC-Web Specification"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://fastapi.tiangolo.com/",children:"FastAPI Documentation"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"revision-history",children:"Revision History"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"2025-10-08: Initial draft"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var s=i(6540);const r={},t=s.createContext(r);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);