"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[5855],{8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>d});var r=i(6540);const s={},l=r.createContext(s);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(l.Provider,{value:n},e.children)}},9940:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"README","title":"Architecture Decision Records (ADRs)","description":"This directory contains records of architectural decisions made for Prism.","source":"@site/../docs-cms/adr/README.md","sourceDirName":".","slug":"/","permalink":"/prism-data-layer/adr/","draft":false,"unlisted":false,"editUrl":"https://github.com/jrepp/prism-data-layer/tree/main/docs-cms/../docs-cms/adr/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"adrSidebar","previous":{"title":"ADR-032 Object Storage","permalink":"/prism-data-layer/adr/adr-032"}}');var s=i(4848),l=i(8453);const c={},d="Architecture Decision Records (ADRs)",t={},a=[{value:"Index",id:"index",level:2},{value:"Core Architecture",id:"core-architecture",level:3},{value:"Backend &amp; Data Layer",id:"backend--data-layer",level:3},{value:"Security &amp; Operations",id:"security--operations",level:3},{value:"Performance &amp; Reliability",id:"performance--reliability",level:3},{value:"Implementation &amp; Development Patterns",id:"implementation--development-patterns",level:3},{value:"Go (Tooling &amp; CLI)",id:"go-tooling--cli",level:4},{value:"Rust (Proxy Core)",id:"rust-proxy-core",level:4},{value:"Client Configuration &amp; Interface Design",id:"client-configuration--interface-design",level:3},{value:"Deployment &amp; Operations",id:"deployment--operations",level:3},{value:"Admin &amp; Operations Management",id:"admin--operations-management",level:3},{value:"Observability &amp; Schema Management",id:"observability--schema-management",level:3},{value:"Status Definitions",id:"status-definitions",level:2},{value:"Adding New ADRs",id:"adding-new-adrs",level:2},{value:"ADR Lifecycle",id:"adr-lifecycle",level:2},{value:"Recent Changes",id:"recent-changes",level:2},{value:"Tags",id:"tags",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"architecture-decision-records-adrs",children:"Architecture Decision Records (ADRs)"})}),"\n",(0,s.jsx)(n.p,{children:"This directory contains records of architectural decisions made for Prism."}),"\n",(0,s.jsx)(n.h2,{id:"index",children:"Index"}),"\n",(0,s.jsx)(n.h3,{id:"core-architecture",children:"Core Architecture"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/rust-for-proxy",children:"ADR-001: Rust for the Proxy Implementation"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"10-100x performance improvement over JVM alternatives"}),"\n",(0,s.jsx)(n.li,{children:"Predictable latency without GC pauses"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/client-originated-configuration",children:"ADR-002: Client-Originated Configuration"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Applications declare requirements in protobuf"}),"\n",(0,s.jsx)(n.li,{children:"Prism auto-provisions backends and capacity"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/protobuf-single-source-of-truth",children:"ADR-003: Protobuf as Single Source of Truth"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All data models, APIs, and configs generated from proto"}),"\n",(0,s.jsx)(n.li,{children:"Custom options for PII, indexing, capacity hints"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/local-first-testing",children:"ADR-004: Local-First Testing Strategy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Real backends (Postgres, Kafka, NATS) in Docker Compose"}),"\n",(0,s.jsx)(n.li,{children:"No mocks; same tests locally and in CI"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"backend--data-layer",children:"Backend & Data Layer"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/backend-plugin-architecture",children:"ADR-005: Backend Plugin Architecture"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Trait-based plugin system for swappable backends"}),"\n",(0,s.jsx)(n.li,{children:"Unified interface for KeyValue, TimeSeries, Graph abstractions"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/namespace-multi-tenancy",children:"ADR-006: Namespace and Multi-Tenancy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Namespace-based isolation for data partitioning"}),"\n",(0,s.jsx)(n.li,{children:"Single-tenant shards for fault isolation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"security--operations",children:"Security & Operations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/authentication-authorization",children:"ADR-007: Authentication and Authorization"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"mTLS for service-to-service"}),"\n",(0,s.jsx)(n.li,{children:"OAuth2/JWT for user-facing APIs"}),"\n",(0,s.jsx)(n.li,{children:"Namespace-level authorization policies"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/observability-strategy",children:"ADR-008: Observability Strategy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenTelemetry from day one"}),"\n",(0,s.jsx)(n.li,{children:"Structured logging, distributed tracing, Prometheus metrics"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/shadow-traffic-migrations",children:"ADR-009: Shadow Traffic for Migrations"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dual-write pattern for zero-downtime migrations"}),"\n",(0,s.jsx)(n.li,{children:"Comparison testing and validation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"performance--reliability",children:"Performance & Reliability"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/caching-layer",children:"ADR-010: Caching Layer Design"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Look-aside cache pattern"}),"\n",(0,s.jsx)(n.li,{children:"Optional per-namespace caching"}),"\n",(0,s.jsx)(n.li,{children:"Cache invalidation strategies"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"implementation--development-patterns",children:"Implementation & Development Patterns"}),"\n",(0,s.jsx)(n.h4,{id:"go-tooling--cli",children:"Go (Tooling & CLI)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/go-for-tooling",children:"ADR-012: Go for Tooling and CLI Utilities"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Single-binary distribution for CLI tools"}),"\n",(0,s.jsx)(n.li,{children:"Fast compile times for rapid iteration"}),"\n",(0,s.jsx)(n.li,{children:"Protobuf interoperability with Rust proxy"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/go-error-handling-strategy",children:"ADR-013: Go Error Handling Strategy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Modern error wrapping with ",(0,s.jsx)(n.code,{children:"fmt.Errorf"})," and ",(0,s.jsx)(n.code,{children:"%w"})]}),"\n",(0,s.jsx)(n.li,{children:"Sentinel errors for well-known conditions"}),"\n",(0,s.jsx)(n.li,{children:"Fail-fast principle with early error reporting"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/go-concurrency-patterns",children:"ADR-014: Go Concurrency Patterns"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Fork-join concurrency model with worker pools"}),"\n",(0,s.jsx)(n.li,{children:"Context-based cancellation"}),"\n",(0,s.jsx)(n.li,{children:"Channel patterns for communication"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/go-testing-strategy",children:"ADR-015: Go Testing Strategy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Three-tier testing (unit, integration, E2E)"}),"\n",(0,s.jsx)(n.li,{children:"80%+ code coverage requirement"}),"\n",(0,s.jsx)(n.li,{children:"Proxy integration test harness"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/go-cli-configuration",children:"ADR-016: Go CLI and Configuration Management"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cobra for CLI framework"}),"\n",(0,s.jsx)(n.li,{children:"Viper for configuration management"}),"\n",(0,s.jsx)(n.li,{children:"Layered configuration (flags > env > file > defaults)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/go-structured-logging",children:"ADR-017: Go Structured Logging with slog"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Standard library slog for zero dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Context propagation pattern"}),"\n",(0,s.jsx)(n.li,{children:"JSON output for production"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"rust-proxy-core",children:"Rust (Proxy Core)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/rust-error-handling-strategy",children:"ADR-018: Rust Error Handling Strategy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"thiserror for domain errors, anyhow for application code"}),"\n",(0,s.jsx)(n.li,{children:"Error context propagation"}),"\n",(0,s.jsx)(n.li,{children:"Type-safe error conversion"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/rust-async-concurrency-patterns",children:"ADR-019: Rust Async Concurrency Patterns"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tokio async runtime with work-stealing scheduler"}),"\n",(0,s.jsx)(n.li,{children:"Task spawning, channels, and select patterns"}),"\n",(0,s.jsx)(n.li,{children:"Connection pooling with sqlx"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/rust-testing-strategy",children:"ADR-020: Rust Testing Strategy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Three-tier testing with async support"}),"\n",(0,s.jsx)(n.li,{children:"Property-based testing with proptest"}),"\n",(0,s.jsx)(n.li,{children:"Criterion benchmarks"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/rust-structured-logging",children:"ADR-021: Rust Structured Logging with Tracing"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"tracing ecosystem for structured logging"}),"\n",(0,s.jsx)(n.li,{children:"Span instrumentation for request correlation"}),"\n",(0,s.jsx)(n.li,{children:"OpenTelemetry integration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"client-configuration--interface-design",children:"Client Configuration & Interface Design"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/dynamic-client-configuration",children:"ADR-022: Dynamic Client Configuration System"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Separation of server and client configuration"}),"\n",(0,s.jsx)(n.li,{children:"Named configurations and inline descriptors"}),"\n",(0,s.jsx)(n.li,{children:"Protobuf-based configuration with runtime discovery"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/grpc-first-interface-design",children:"ADR-023: gRPC-First Interface Design"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"gRPC over HTTP/2 for all client-server communication"}),"\n",(0,s.jsx)(n.li,{children:"Service-per-pattern organization"}),"\n",(0,s.jsx)(n.li,{children:"Streaming support for pagination and pub/sub"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/layered-interface-hierarchy",children:"ADR-024: Layered Interface Hierarchy"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Session layer as foundation (auth, audit, state)"}),"\n",(0,s.jsx)(n.li,{children:"Use-case layers: Queue, PubSub, Reader, Transact"}),"\n",(0,s.jsx)(n.li,{children:"Progressive disclosure of complexity"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"deployment--operations",children:"Deployment & Operations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/container-plugin-model",children:"ADR-025: Container Plugin Model"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Backend-specific containers with standard interfaces"}),"\n",(0,s.jsx)(n.li,{children:"Horizontal scaling per plugin type"}),"\n",(0,s.jsx)(n.li,{children:"Publisher, Consumer, Processor, Listener roles"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/distroless-container-images",children:"ADR-026: Distroless Container Images"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Google Distroless for minimal attack surface"}),"\n",(0,s.jsx)(n.li,{children:"Multi-stage builds for small images"}),"\n",(0,s.jsx)(n.li,{children:"Debug variants with busybox for troubleshooting"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"admin--operations-management",children:"Admin & Operations Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/admin-api-grpc",children:"ADR-027: Admin API via gRPC"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Separate admin service on port 8981"}),"\n",(0,s.jsx)(n.li,{children:"Config, session, namespace, and backend management"}),"\n",(0,s.jsx)(n.li,{children:"RBAC and audit logging"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/admin-ui-fastapi-grpc-web",children:"ADR-028: Admin UI with FastAPI and gRPC-Web"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"FastAPI serving static files and gRPC-Web proxy"}),"\n",(0,s.jsx)(n.li,{children:"Vanilla JavaScript frontend with Tailwind CSS"}),"\n",(0,s.jsx)(n.li,{children:"Browser-accessible administration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"observability--schema-management",children:"Observability & Schema Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/protocol-recording-protobuf-tags",children:"ADR-029: Protocol Recording with Protobuf Tagging"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Custom protobuf options for protocol recording"}),"\n",(0,s.jsx)(n.li,{children:"Sampling and queryable storage"}),"\n",(0,s.jsx)(n.li,{children:"Interceptor-based recording"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/prism-data-layer/adr/schema-recording-protobuf-tags",children:"ADR-030: Schema Recording with Protobuf Tagging"})," - ",(0,s.jsx)(n.strong,{children:"Accepted"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Schema registry with version tracking"}),"\n",(0,s.jsx)(n.li,{children:"Compatibility checking (backward, forward, full)"}),"\n",(0,s.jsx)(n.li,{children:"Automated migration generation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"status-definitions",children:"Status Definitions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Proposed"}),": Under discussion, not yet decided"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accepted"}),": Agreed upon and ready for implementation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implemented"}),": Code exists"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Deprecated"}),": No longer recommended"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Superseded"}),": Replaced by another ADR"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"adding-new-adrs",children:"Adding New ADRs"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy ",(0,s.jsx)(n.code,{children:"000-template.md"})," to ",(0,s.jsx)(n.code,{children:"NNN-short-title.md"})]}),"\n",(0,s.jsx)(n.li,{children:"Use YAML frontmatter for metadata (see CLAUDE.md for format)"}),"\n",(0,s.jsx)(n.li,{children:"Fill in all sections"}),"\n",(0,s.jsx)(n.li,{children:"Update this index"}),"\n",(0,s.jsx)(n.li,{children:"Create PR for team review"}),"\n",(0,s.jsx)(n.li,{children:"Update status when accepted"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Frontmatter Format:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:'---\ntitle: "ADR-XXX: Descriptive Title"\nstatus: Accepted\ndate: 2025-10-08\ndeciders: Core Team\ntags: [architecture, backend]\n---\n'})}),"\n",(0,s.jsx)(n.h2,{id:"adr-lifecycle",children:"ADR Lifecycle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Proposed \u2192 Reviewed \u2192 Accepted \u2192 Implemented\n                \u2193\n            Deprecated / Superseded\n"})}),"\n",(0,s.jsx)(n.h2,{id:"recent-changes",children:"Recent Changes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2025-10-08: Converted all ADRs to YAML frontmatter format"}),"\n",(0,s.jsx)(n.li,{children:"2025-10-08: ADRs 027-030 added (Admin interface, protocol/schema recording)"}),"\n",(0,s.jsx)(n.li,{children:"2025-10-07: ADRs 022-026 added (Client configuration, interfaces, deployment)"}),"\n",(0,s.jsx)(n.li,{children:"2025-10-07: ADRs 012-021 added (Go and Rust implementation patterns)"}),"\n",(0,s.jsx)(n.li,{children:"2025-10-05: ADRs 001-010 accepted (initial architecture)"}),"\n",(0,s.jsx)(n.li,{children:"2025-10-05: Created ADR index"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"tags",children:"Tags"}),"\n",(0,s.jsx)(n.p,{children:"ADRs are tagged for easy filtering:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#architecture"})," - High-level system design"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#backend"})," - Backend storage and data layer"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#security"})," - Authentication, authorization, PII"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#performance"})," - Performance and optimization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#testing"})," - Testing strategies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#operations"})," - Deployment, monitoring, ops"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#admin"})," - Administration and management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#dx"})," - Developer experience"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#go"})," - Go-specific patterns and practices"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#rust"})," - Rust-specific patterns and practices"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#concurrency"})," - Concurrent programming patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#error-handling"})," - Error handling strategies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#logging"})," - Logging and observability"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#observability"})," - Tracing, monitoring, debugging"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#grpc"})," - gRPC and protobuf patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#protobuf"})," - Protocol Buffers schema and options"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#schema"})," - Schema management and evolution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#versioning"})," - Version management and compatibility"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#configuration"})," - Configuration management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#containers"})," - Container and deployment patterns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#client-server"})," - Client-server architecture"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#api-design"})," - API design and interfaces"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#ui"})," - User interface design"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#frontend"})," - Frontend development"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#fastapi"})," - FastAPI framework"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#grpc-web"})," - gRPC-Web protocol"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#protocols"})," - Protocol design and recording"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#registry"})," - Schema and service registries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#debugging"})," - Debugging tools and techniques"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"#evolution"})," - System evolution and migration"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);