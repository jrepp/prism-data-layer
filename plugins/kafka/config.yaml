# Kafka Plugin Configuration
# Based on RFC-011 (SASL/SCRAM) and ADR-025

plugin:
  name: kafka
  version: 0.1.0

control_plane:
  port: 9091

backend:
  # Kafka brokers (can be overridden by KAFKA_BROKERS env var)
  brokers:
    - localhost:9092

  # Topic to produce/consume
  topic: "events"

  # Consumer group ID
  consumer_group: "prism-consumers"

  # SASL/SCRAM authentication (RFC-011)
  sasl_mechanism: "SCRAM-SHA-512"
  sasl_username: ""  # Set via env KAFKA_SASL_USERNAME
  sasl_password: ""  # Set via env KAFKA_SASL_PASSWORD

  # Vault-managed credentials
  vault_enabled: false
  vault_path: "kafka/creds/producer-main"

  # Producer settings
  compression: "snappy"
  acks: "all"

  # Consumer settings
  auto_offset_reset: "earliest"
